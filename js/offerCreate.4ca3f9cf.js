"use strict";(self["webpackChunklac"]=self["webpackChunklac"]||[]).push([[479],{9077:function(a,e,l){l.r(e),l.d(e,{default:function(){return w}});var r=l(3396),t=l(4870),m=l(9242),o=l(140),i=l(9546),s=l(7174),n=l(5623),u=l(2057),d=l(1411),c=l(4436),v=l(3653);const U=["onSubmit"];var S=(0,r.aZ)({__name:"LacOfferCreateForm",setup(a){const e=(0,u.a)(),{setFieldRef:l,validateForm:S,resetValidations:b,fields:p,init:f,isInit:h,submit:P}=e,{fieldVariant:w}=(0,c.U)(),{computedCols:g}=(0,d.b)(),{onSelectSearch:_}=(0,n.z)(h),x=(0,r.Fl)((()=>!p.commonParams.subject.value));function Z(){p.baseParams.base_price.value=p.baseParams.base_price.hidden}function W(a){p.baseParams.base_price.hidden=Number(a).toFixed(4)}async function j(){const a=await S();a&&await P()}return(0,r.bv)((async()=>{await f()})),(a,e)=>{const n=(0,r.up)("Button");return(0,t.SU)(h)?((0,r.wg)(),(0,r.iD)("form",{key:0,class:"lac-form",onSubmit:(0,m.iM)(j,["prevent"])},[(0,r.Wm)(o.Z,{title:"Общие параметры",class:"mb16",grid:(0,t.SU)(g)},{default:(0,r.w5)((()=>[(0,r.Wm)(s.Z,{variant:(0,t.SU)(w),value:(0,t.SU)(p).commonParams.partner.value,"onUpdate:value":e[0]||(e[0]=a=>(0,t.SU)(p).commonParams.partner.value=a),items:(0,t.SU)(p).commonParams.partner.items,id:(0,t.SU)(p).commonParams.partner.id,label:(0,t.SU)(p).commonParams.partner.label,rules:(0,t.SU)(p).commonParams.partner.rules,placeholder:(0,t.SU)(p).commonParams.partner.placeholder,searchable:"","show-clear":"","clear-on-close":"",onSearch:e[1]||(e[1]=a=>(0,t.SU)(_)(a,(0,t.SU)(p).commonParams.partner)),disabled:!(0,t.SU)(p).commonParams.partner.available,ref:(0,t.SU)(l)},null,8,["variant","value","items","id","label","rules","placeholder","disabled"]),(0,r.Wm)(s.Z,{variant:(0,t.SU)(w),value:(0,t.SU)(p).commonParams.subject.value,"onUpdate:value":e[2]||(e[2]=a=>(0,t.SU)(p).commonParams.subject.value=a),items:(0,t.SU)(p).commonParams.subject.items,id:(0,t.SU)(p).commonParams.subject.id,label:(0,t.SU)(p).commonParams.subject.label,rules:(0,t.SU)(p).commonParams.subject.rules,placeholder:(0,t.SU)(p).commonParams.subject.placeholder,disabled:!(0,t.SU)(p).commonParams.partner.value||!(0,t.SU)(p).commonParams.point.value||!(0,t.SU)(p).commonParams.subject.available,ref:(0,t.SU)(l)},null,8,["variant","value","items","id","label","rules","placeholder","disabled"]),(0,r.Wm)(s.Z,{variant:(0,t.SU)(w),value:(0,t.SU)(p).commonParams.point.value,"onUpdate:value":e[3]||(e[3]=a=>(0,t.SU)(p).commonParams.point.value=a),items:(0,t.SU)(p).commonParams.point.items,id:(0,t.SU)(p).commonParams.point.id,label:(0,t.SU)(p).commonParams.point.label,rules:(0,t.SU)(p).commonParams.point.available&&(0,t.SU)(p).commonParams.partner.value&&(0,t.SU)(p).commonParams.point.rules,placeholder:(0,t.SU)(p).commonParams.point.placeholder,ref:(0,t.SU)(l),disabled:!(0,t.SU)(p).commonParams.point.available||!(0,t.SU)(p).commonParams.partner.value},null,8,["variant","value","items","id","label","rules","placeholder","disabled"]),(0,r.Wm)(s.Z,{variant:(0,t.SU)(w),value:(0,t.SU)(p).commonParams.statusSelect.value,"onUpdate:value":e[4]||(e[4]=a=>(0,t.SU)(p).commonParams.statusSelect.value=a),items:(0,t.SU)(p).commonParams.statusSelect.items,id:(0,t.SU)(p).commonParams.statusSelect.id,label:(0,t.SU)(p).commonParams.statusSelect.label,rules:(0,t.SU)(p).commonParams.statusSelect.rules,placeholder:(0,t.SU)(p).commonParams.statusSelect.placeholder,ref:(0,t.SU)(l),disabled:x.value},null,8,["variant","value","items","id","label","rules","placeholder","disabled"]),(0,r.Wm)(v.Z,{variant:(0,t.SU)(w),value:(0,t.SU)(p).commonParams.weight.value,"onUpdate:value":e[5]||(e[5]=a=>(0,t.SU)(p).commonParams.weight.value=a),id:(0,t.SU)(p).commonParams.weight.id,label:(0,t.SU)(p).commonParams.weight.label,rules:(0,t.SU)(p).commonParams.weight.rules,ref:(0,t.SU)(l),max:(0,t.SU)(p).commonParams.weight.max,min:(0,t.SU)(p).commonParams.weight.min,step:(0,t.SU)(p).commonParams.weight.step,"after-dot":(0,t.SU)(p).commonParams.weight.afterDot,suffix:(0,t.SU)(p).commonParams.weight.unit,"locale-prettify":"",disabled:x.value},null,8,["variant","value","id","label","rules","max","min","step","after-dot","suffix","disabled"]),(0,r.Wm)(v.Z,{variant:(0,t.SU)(w),value:(0,t.SU)(p).commonParams.carCount.value,"onUpdate:value":e[6]||(e[6]=a=>(0,t.SU)(p).commonParams.carCount.value=a),id:(0,t.SU)(p).commonParams.carCount.id,label:(0,t.SU)(p).commonParams.carCount.label,rules:(0,t.SU)(p).commonParams.carCount.rules,ref:(0,t.SU)(l),min:(0,t.SU)(p).commonParams.carCount.min,max:(0,t.SU)(p).commonParams.carCount.max,step:(0,t.SU)(p).commonParams.carCount.step,"after-dot":(0,t.SU)(p).commonParams.carCount.afterDot,suffix:(0,t.SU)(p).commonParams.carCount.unit,disabled:x.value},null,8,["variant","value","id","label","rules","min","max","step","after-dot","suffix","disabled"])])),_:1},8,["grid"]),(0,r.Wm)(o.Z,{title:"Параметры расчета цены",class:"mb16",grid:(0,t.SU)(g)},{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)((0,t.SU)(p).baseParams,((a,e)=>((0,r.wg)(),(0,r.iD)(r.HY,{key:e},[a.items?((0,r.wg)(),(0,r.j4)(s.Z,{key:0,variant:(0,t.SU)(w),value:a.value,"onUpdate:value":e=>a.value=e,items:a.items,id:a.id,label:a.label,rules:a.rules,placeholder:a.placeholder,ref_for:!0,ref:(0,t.SU)(l),disabled:x.value},null,8,["variant","value","onUpdate:value","items","id","label","rules","placeholder","disabled"])):((0,r.wg)(),(0,r.j4)(v.Z,{key:1,variant:(0,t.SU)(w),value:a.value,"onUpdate:value":e=>a.value=e,id:a.id,label:a.label,rules:a.available&&a.rules,ref_for:!0,ref:(0,t.SU)(l),max:a.max,min:a.min,step:a.step,"after-dot":a.afterDot,suffix:a.unit,disabled:"fat_rate"===a.id||!a.available||x.value||void 0!==a.fix,hidden:a.hidden,onBlur:W,onFocus:Z},null,8,["variant","value","onUpdate:value","id","label","rules","max","min","step","after-dot","suffix","disabled","hidden"]))],64)))),128))])),_:1},8,["grid"]),(0,r.Wm)(o.Z,{title:"Фактические показатели",class:"mb16",grid:(0,t.SU)(g)},{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)((0,t.SU)(p).factParams,((a,e)=>((0,r.wg)(),(0,r.iD)(r.HY,{key:e},[a.items?((0,r.wg)(),(0,r.j4)(s.Z,{key:0,variant:(0,t.SU)(w),value:a.value,"onUpdate:value":e=>a.value=e,items:a.items,id:a.id,label:a.label,rules:a.rules,placeholder:a.placeholder,ref_for:!0,ref:(0,t.SU)(l),disabled:x.value},null,8,["variant","value","onUpdate:value","items","id","label","rules","placeholder","disabled"])):((0,r.wg)(),(0,r.j4)(v.Z,{key:1,variant:(0,t.SU)(w),value:a.value,"onUpdate:value":e=>a.value=e,id:a.id,label:a.label,rules:a.available&&a.rules,ref_for:!0,ref:(0,t.SU)(l),max:a.max,min:a.min,step:a.step,"after-dot":a.afterDot,suffix:a.unit,disabled:!a.available||x.value||void 0!==a.fix},null,8,["variant","value","onUpdate:value","id","label","rules","max","min","step","after-dot","suffix","disabled"]))],64)))),128))])),_:1},8,["grid"]),(0,r.Wm)(o.Z,{title:"Прочее",class:"mb16",grid:(0,t.SU)(g)},{default:(0,r.w5)((()=>[(0,r.Wm)(v.Z,{variant:(0,t.SU)(w),value:(0,t.SU)(p).other.other_price.value,"onUpdate:value":e[7]||(e[7]=a=>(0,t.SU)(p).other.other_price.value=a),id:(0,t.SU)(p).other.other_price.id,label:(0,t.SU)(p).other.other_price.label,rules:(0,t.SU)(p).other.other_price.available&&(0,t.SU)(p).other.other_price.rules,ref:(0,t.SU)(l),max:(0,t.SU)(p).other.other_price.max,min:(0,t.SU)(p).other.other_price.min,step:(0,t.SU)(p).other.other_price.step,"after-dot":(0,t.SU)(p).other.other_price.afterDot,suffix:(0,t.SU)(p).other.other_price.unit,disabled:!(0,t.SU)(p).other.other_price.available||x.value},null,8,["variant","value","id","label","rules","max","min","step","after-dot","suffix","disabled"])])),_:1},8,["grid"]),(0,r.Wm)(o.Z,{title:"Расчетные показатели",class:"mb16",grid:(0,t.SU)(g)},{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)((0,t.SU)(p).calculateParams,((a,e)=>((0,r.wg)(),(0,r.j4)(v.Z,{key:e,variant:(0,t.SU)(w),value:a.value,id:a.id,label:a.label,ref_for:!0,ref:(0,t.SU)(l),min:a.min,step:a.step,"after-dot":a.afterDot,suffix:a.unit,disabled:""},null,8,["variant","value","id","label","min","step","after-dot","suffix"])))),128))])),_:1},8,["grid"]),(0,r.Wm)(o.Z,{title:"Комментарий",class:"mb8"},{default:(0,r.w5)((()=>[(0,r.Wm)(i.Z,{"no-resize":"",rows:3,value:(0,t.SU)(p).other.comment.value,"onUpdate:value":e[8]||(e[8]=a=>(0,t.SU)(p).other.comment.value=a),id:(0,t.SU)(p).other.comment.id,rules:(0,t.SU)(p).other.comment.rules,ref:(0,t.SU)(l),disabled:x.value},null,8,["value","id","rules","disabled"])])),_:1}),(0,r.Wm)(n,{type:"submit",label:"Добавить",disabled:x.value},null,8,["disabled"])],40,U)):(0,r.kq)("",!0)}}});const b=S;var p=b,f=l(2793),h=(0,r.aZ)({__name:"OfferCreatePage",setup(a){return(a,e)=>((0,r.wg)(),(0,r.j4)(f.Z,{title:"Добавление предложения на продажу"},{default:(0,r.w5)((()=>[(0,r.Wm)(p)])),_:1}))}});const P=h;var w=P}}]);
//# sourceMappingURL=offerCreate.4ca3f9cf.js.map