"use strict";(self["webpackChunklac"]=self["webpackChunklac"]||[]).push([[30],{7790:function(a,e,r){r.r(e),r.d(e,{default:function(){return w}});var s=r(3396),t=r(4870),l=r(2793),i=r(9242),m=r(140),o=r(9546),b=r(7174),u=r(1411),n=r(4436),f=r(3653),U=r(3537),d=r(9286),S=r(3856),c=r(5623);const v=["onSubmit"];var _=(0,s.aZ)({__name:"LacRequestEditForm",props:{id:{}},setup(a){const e=a,r=(0,U.y)(),{setFieldRef:l,validateForm:_,resetValidations:p,fields:P,init:x,fillForm:h,isInit:y,submit:w,submitEdit:Z,fetchData:W}=r,g=(0,d.N)(),{fieldVariant:D}=(0,n.U)(),{computedCols:j}=(0,u.b)(),{onSelectSearch:k}=(0,c.z)(y),F=(0,s.Fl)((()=>!P.commonParams.subject.value));function E(){P.baseParams.base_price.value=P.baseParams.base_price.hidden}function R(a){P.baseParams.base_price.hidden=Number(a).toFixed(4)}async function N(){const a=await _();a&&await Z(Number(e.id))}return(0,s.bv)((async()=>{g.open(S.y.LOADER),await W(Number(e.id)),await x(),g.open(S.y.LOADER),await h(),g.close()})),(a,e)=>{const r=(0,s.up)("Button");return(0,t.SU)(y)?((0,s.wg)(),(0,s.iD)("form",{key:0,class:"lac-form",onSubmit:(0,i.iM)(N,["prevent"])},[(0,s.Wm)(m.Z,{title:"Общие параметры",class:"mb16",grid:(0,t.SU)(j)},{default:(0,s.w5)((()=>[(0,s.Wm)(b.Z,{variant:(0,t.SU)(D),value:(0,t.SU)(P).commonParams.partner.value,"onUpdate:value":e[0]||(e[0]=a=>(0,t.SU)(P).commonParams.partner.value=a),items:(0,t.SU)(P).commonParams.partner.items,id:(0,t.SU)(P).commonParams.partner.id,label:(0,t.SU)(P).commonParams.partner.label,rules:(0,t.SU)(P).commonParams.partner.rules,placeholder:(0,t.SU)(P).commonParams.partner.placeholder,searchable:"","show-clear":"","clear-on-close":"",onSearch:e[1]||(e[1]=a=>(0,t.SU)(k)(a,(0,t.SU)(P).commonParams.partner)),disabled:!(0,t.SU)(P).commonParams.partner.available,ref:(0,t.SU)(l)},null,8,["variant","value","items","id","label","rules","placeholder","disabled"]),(0,s.Wm)(b.Z,{variant:(0,t.SU)(D),value:(0,t.SU)(P).commonParams.subject.value,"onUpdate:value":e[2]||(e[2]=a=>(0,t.SU)(P).commonParams.subject.value=a),items:(0,t.SU)(P).commonParams.subject.items,id:(0,t.SU)(P).commonParams.subject.id,label:(0,t.SU)(P).commonParams.subject.label,rules:(0,t.SU)(P).commonParams.subject.rules,placeholder:(0,t.SU)(P).commonParams.subject.placeholder,disabled:!(0,t.SU)(P).commonParams.partner.value||!(0,t.SU)(P).commonParams.point.value||!(0,t.SU)(P).commonParams.subject.available,ref:(0,t.SU)(l)},null,8,["variant","value","items","id","label","rules","placeholder","disabled"]),(0,s.Wm)(b.Z,{variant:(0,t.SU)(D),value:(0,t.SU)(P).commonParams.point.value,"onUpdate:value":e[3]||(e[3]=a=>(0,t.SU)(P).commonParams.point.value=a),items:(0,t.SU)(P).commonParams.point.items,id:(0,t.SU)(P).commonParams.point.id,label:(0,t.SU)(P).commonParams.point.label,rules:(0,t.SU)(P).commonParams.point.available&&(0,t.SU)(P).commonParams.partner.value&&(0,t.SU)(P).commonParams.point.rules,placeholder:(0,t.SU)(P).commonParams.point.placeholder,ref:(0,t.SU)(l),disabled:!(0,t.SU)(P).commonParams.point.available||!(0,t.SU)(P).commonParams.partner.value},null,8,["variant","value","items","id","label","rules","placeholder","disabled"]),(0,s.Wm)(b.Z,{variant:(0,t.SU)(D),value:(0,t.SU)(P).commonParams.statusSelect.value,"onUpdate:value":e[4]||(e[4]=a=>(0,t.SU)(P).commonParams.statusSelect.value=a),items:(0,t.SU)(P).commonParams.statusSelect.items,id:(0,t.SU)(P).commonParams.statusSelect.id,label:(0,t.SU)(P).commonParams.statusSelect.label,rules:(0,t.SU)(P).commonParams.statusSelect.rules,placeholder:(0,t.SU)(P).commonParams.statusSelect.placeholder,ref:(0,t.SU)(l),disabled:F.value},null,8,["variant","value","items","id","label","rules","placeholder","disabled"]),(0,s.Wm)(f.Z,{variant:(0,t.SU)(D),value:(0,t.SU)(P).commonParams.weight.value,"onUpdate:value":e[5]||(e[5]=a=>(0,t.SU)(P).commonParams.weight.value=a),id:(0,t.SU)(P).commonParams.weight.id,label:(0,t.SU)(P).commonParams.weight.label,rules:(0,t.SU)(P).commonParams.weight.rules,ref:(0,t.SU)(l),max:(0,t.SU)(P).commonParams.weight.max,min:(0,t.SU)(P).commonParams.weight.min,step:(0,t.SU)(P).commonParams.weight.step,"after-dot":(0,t.SU)(P).commonParams.weight.afterDot,suffix:"кг","locale-prettify":"",disabled:F.value},null,8,["variant","value","id","label","rules","max","min","step","after-dot","disabled"])])),_:1},8,["grid"]),(0,s.Wm)(m.Z,{title:"Параметры расчета цены",class:"mb16",grid:(0,t.SU)(j)},{default:(0,s.w5)((()=>[(0,s.Wm)(f.Z,{variant:(0,t.SU)(D),value:(0,t.SU)(P).baseParams.base_price.value,"onUpdate:value":e[6]||(e[6]=a=>(0,t.SU)(P).baseParams.base_price.value=a),id:(0,t.SU)(P).baseParams.base_price.id,label:(0,t.SU)(P).baseParams.base_price.label,rules:(0,t.SU)(P).baseParams.base_price.available&&(0,t.SU)(P).baseParams.base_price.rules,ref:(0,t.SU)(l),max:(0,t.SU)(P).baseParams.base_price.max,min:(0,t.SU)(P).baseParams.base_price.min,step:(0,t.SU)(P).baseParams.base_price.step,"after-dot":(0,t.SU)(P).baseParams.base_price.afterDot,suffix:(0,t.SU)(P).baseParams.base_price.unit,disabled:!(0,t.SU)(P).baseParams.base_price.available||F.value||void 0!==(0,t.SU)(P).baseParams.base_price.fix,hidden:(0,t.SU)(P).baseParams.base_price.hidden,onBlur:R,onFocus:E},null,8,["variant","value","id","label","rules","max","min","step","after-dot","suffix","disabled","hidden"]),(0,s.Wm)(f.Z,{variant:(0,t.SU)(D),value:(0,t.SU)(P).baseParams.base_dry_matter.value,"onUpdate:value":e[7]||(e[7]=a=>(0,t.SU)(P).baseParams.base_dry_matter.value=a),id:(0,t.SU)(P).baseParams.base_dry_matter.id,label:(0,t.SU)(P).baseParams.base_dry_matter.label,rules:(0,t.SU)(P).baseParams.base_dry_matter.available&&(0,t.SU)(P).baseParams.base_dry_matter.rules,ref:(0,t.SU)(l),max:(0,t.SU)(P).baseParams.base_dry_matter.max,min:(0,t.SU)(P).baseParams.base_dry_matter.min,step:(0,t.SU)(P).baseParams.base_dry_matter.step,"after-dot":(0,t.SU)(P).baseParams.base_dry_matter.afterDot,suffix:(0,t.SU)(P).baseParams.base_dry_matter.unit,disabled:!(0,t.SU)(P).baseParams.base_dry_matter.available||F.value||void 0!==(0,t.SU)(P).baseParams.base_dry_matter.fix},null,8,["variant","value","id","label","rules","max","min","step","after-dot","suffix","disabled"]),(0,s.Wm)(f.Z,{variant:(0,t.SU)(D),value:(0,t.SU)(P).baseParams.base_price_with_tax.value,"onUpdate:value":e[8]||(e[8]=a=>(0,t.SU)(P).baseParams.base_price_with_tax.value=a),id:(0,t.SU)(P).baseParams.base_price_with_tax.id,label:(0,t.SU)(P).baseParams.base_price_with_tax.label,rules:(0,t.SU)(P).baseParams.base_price_with_tax.available&&(0,t.SU)(P).baseParams.base_price_with_tax.rules,ref:(0,t.SU)(l),max:(0,t.SU)(P).baseParams.base_price_with_tax.max,min:(0,t.SU)(P).baseParams.base_price_with_tax.min,step:(0,t.SU)(P).baseParams.base_price_with_tax.step,"after-dot":(0,t.SU)(P).baseParams.base_price_with_tax.afterDot,suffix:(0,t.SU)(P).baseParams.base_price_with_tax.unit,disabled:!(0,t.SU)(P).baseParams.base_price_with_tax.available||F.value||void 0!==(0,t.SU)(P).baseParams.base_price_with_tax.fix},null,8,["variant","value","id","label","rules","max","min","step","after-dot","suffix","disabled"]),(0,s.Wm)(f.Z,{variant:(0,t.SU)(D),value:(0,t.SU)(P).baseParams.protein_rate.value,"onUpdate:value":e[9]||(e[9]=a=>(0,t.SU)(P).baseParams.protein_rate.value=a),id:(0,t.SU)(P).baseParams.protein_rate.id,label:(0,t.SU)(P).baseParams.protein_rate.label,rules:(0,t.SU)(P).baseParams.protein_rate.available&&(0,t.SU)(P).baseParams.protein_rate.rules,ref:(0,t.SU)(l),max:(0,t.SU)(P).baseParams.protein_rate.max,min:(0,t.SU)(P).baseParams.protein_rate.min,step:(0,t.SU)(P).baseParams.protein_rate.step,"after-dot":(0,t.SU)(P).baseParams.protein_rate.afterDot,suffix:(0,t.SU)(P).baseParams.protein_rate.unit,disabled:!(0,t.SU)(P).baseParams.protein_rate.available||F.value||void 0!==(0,t.SU)(P).baseParams.protein_rate.fix},null,8,["variant","value","id","label","rules","max","min","step","after-dot","suffix","disabled"]),(0,s.Wm)(b.Z,{variant:(0,t.SU)(D),value:(0,t.SU)(P).baseParams.formula.value,"onUpdate:value":e[10]||(e[10]=a=>(0,t.SU)(P).baseParams.formula.value=a),items:(0,t.SU)(P).baseParams.formula.items,id:(0,t.SU)(P).baseParams.formula.id,label:(0,t.SU)(P).baseParams.formula.label,rules:(0,t.SU)(P).baseParams.formula.rules,placeholder:(0,t.SU)(P).baseParams.formula.placeholder,ref:(0,t.SU)(l),disabled:F.value},null,8,["variant","value","items","id","label","rules","placeholder","disabled"]),(0,s.Wm)(f.Z,{variant:(0,t.SU)(D),value:(0,t.SU)(P).baseParams.fat_rate.value,"onUpdate:value":e[11]||(e[11]=a=>(0,t.SU)(P).baseParams.fat_rate.value=a),id:(0,t.SU)(P).baseParams.fat_rate.id,label:(0,t.SU)(P).baseParams.fat_rate.label,rules:(0,t.SU)(P).baseParams.fat_rate.available&&(0,t.SU)(P).baseParams.fat_rate.rules,ref:(0,t.SU)(l),max:(0,t.SU)(P).baseParams.fat_rate.max,min:(0,t.SU)(P).baseParams.fat_rate.min,step:(0,t.SU)(P).baseParams.fat_rate.step,"after-dot":(0,t.SU)(P).baseParams.fat_rate.afterDot,suffix:(0,t.SU)(P).baseParams.fat_rate.unit,disabled:""},null,8,["variant","value","id","label","rules","max","min","step","after-dot","suffix"]),(0,s.Wm)(f.Z,{variant:(0,t.SU)(D),value:(0,t.SU)(P).baseParams.base_protein.value,"onUpdate:value":e[12]||(e[12]=a=>(0,t.SU)(P).baseParams.base_protein.value=a),id:(0,t.SU)(P).baseParams.base_protein.id,label:(0,t.SU)(P).baseParams.base_protein.label,rules:(0,t.SU)(P).baseParams.base_protein.available&&(0,t.SU)(P).baseParams.base_protein.rules,ref:(0,t.SU)(l),max:(0,t.SU)(P).baseParams.base_protein.max,min:(0,t.SU)(P).baseParams.base_protein.min,step:(0,t.SU)(P).baseParams.base_protein.step,"after-dot":(0,t.SU)(P).baseParams.base_protein.afterDot,suffix:(0,t.SU)(P).baseParams.base_protein.unit,disabled:!(0,t.SU)(P).baseParams.base_protein.available||F.value||void 0!==(0,t.SU)(P).baseParams.base_protein.fix},null,8,["variant","value","id","label","rules","max","min","step","after-dot","suffix","disabled"]),(0,s.Wm)(f.Z,{variant:(0,t.SU)(D),value:(0,t.SU)(P).baseParams.protein_correction.value,"onUpdate:value":e[13]||(e[13]=a=>(0,t.SU)(P).baseParams.protein_correction.value=a),id:(0,t.SU)(P).baseParams.protein_correction.id,label:(0,t.SU)(P).baseParams.protein_correction.label,rules:(0,t.SU)(P).baseParams.protein_correction.available&&(0,t.SU)(P).baseParams.protein_correction.rules,ref:(0,t.SU)(l),max:(0,t.SU)(P).baseParams.protein_correction.max,min:(0,t.SU)(P).baseParams.protein_correction.min,step:(0,t.SU)(P).baseParams.protein_correction.step,"after-dot":(0,t.SU)(P).baseParams.protein_correction.afterDot,suffix:(0,t.SU)(P).baseParams.protein_correction.unit,disabled:!(0,t.SU)(P).baseParams.protein_correction.available||F.value||void 0!==(0,t.SU)(P).baseParams.protein_correction.fix},null,8,["variant","value","id","label","rules","max","min","step","after-dot","suffix","disabled"]),(0,s.Wm)(f.Z,{variant:(0,t.SU)(D),value:(0,t.SU)(P).baseParams.base_fat.value,"onUpdate:value":e[14]||(e[14]=a=>(0,t.SU)(P).baseParams.base_fat.value=a),id:(0,t.SU)(P).baseParams.base_fat.id,label:(0,t.SU)(P).baseParams.base_fat.label,rules:(0,t.SU)(P).baseParams.base_fat.available&&(0,t.SU)(P).baseParams.base_fat.rules,ref:(0,t.SU)(l),max:(0,t.SU)(P).baseParams.base_fat.max,min:(0,t.SU)(P).baseParams.base_fat.min,step:(0,t.SU)(P).baseParams.base_fat.step,"after-dot":(0,t.SU)(P).baseParams.base_fat.afterDot,suffix:(0,t.SU)(P).baseParams.base_fat.unit,disabled:!(0,t.SU)(P).baseParams.base_fat.available||F.value||void 0!==(0,t.SU)(P).baseParams.base_fat.fix},null,8,["variant","value","id","label","rules","max","min","step","after-dot","suffix","disabled"]),(0,s.Wm)(f.Z,{variant:(0,t.SU)(D),value:(0,t.SU)(P).baseParams.fat_correction.value,"onUpdate:value":e[15]||(e[15]=a=>(0,t.SU)(P).baseParams.fat_correction.value=a),id:(0,t.SU)(P).baseParams.fat_correction.id,label:(0,t.SU)(P).baseParams.fat_correction.label,rules:(0,t.SU)(P).baseParams.fat_correction.available&&(0,t.SU)(P).baseParams.fat_correction.rules,ref:(0,t.SU)(l),max:(0,t.SU)(P).baseParams.fat_correction.max,min:(0,t.SU)(P).baseParams.fat_correction.min,step:(0,t.SU)(P).baseParams.fat_correction.step,"after-dot":(0,t.SU)(P).baseParams.fat_correction.afterDot,suffix:(0,t.SU)(P).baseParams.fat_correction.unit,disabled:!(0,t.SU)(P).baseParams.fat_correction.available||F.value||void 0!==(0,t.SU)(P).baseParams.fat_correction.fix},null,8,["variant","value","id","label","rules","max","min","step","after-dot","suffix","disabled"]),(0,s.Wm)(f.Z,{variant:(0,t.SU)(D),value:(0,t.SU)(P).baseParams.max_fat.value,"onUpdate:value":e[16]||(e[16]=a=>(0,t.SU)(P).baseParams.max_fat.value=a),id:(0,t.SU)(P).baseParams.max_fat.id,label:(0,t.SU)(P).baseParams.max_fat.label,rules:(0,t.SU)(P).baseParams.max_fat.available&&(0,t.SU)(P).baseParams.max_fat.rules,ref:(0,t.SU)(l),max:(0,t.SU)(P).baseParams.max_fat.max,min:(0,t.SU)(P).baseParams.max_fat.min,step:(0,t.SU)(P).baseParams.max_fat.step,"after-dot":(0,t.SU)(P).baseParams.max_fat.afterDot,suffix:(0,t.SU)(P).baseParams.max_fat.unit,disabled:!(0,t.SU)(P).baseParams.max_fat.available||F.value||void 0!==(0,t.SU)(P).baseParams.max_fat.fix},null,8,["variant","value","id","label","rules","max","min","step","after-dot","suffix","disabled"])])),_:1},8,["grid"]),(0,s.Wm)(m.Z,{title:"Коэффициенты за сортность",class:"mb16",grid:(0,t.SU)(j)},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,t.SU)(P).sortParams,(a=>((0,s.wg)(),(0,s.j4)(f.Z,{key:a.id,variant:(0,t.SU)(D),value:a.value,"onUpdate:value":e=>a.value=e,id:a.id,label:a.label,rules:a.rules,ref_for:!0,ref:(0,t.SU)(l),max:a.max,min:a.min,step:a.step,"after-dot":a.afterDot,suffix:a.unit,disabled:F.value},null,8,["variant","value","onUpdate:value","id","label","rules","max","min","step","after-dot","suffix","disabled"])))),128))])),_:1},8,["grid"]),(0,s.Wm)(m.Z,{title:"Прочее",class:"mb16",grid:(0,t.SU)(j)},{default:(0,s.w5)((()=>[(0,s.Wm)(f.Z,{variant:(0,t.SU)(D),value:(0,t.SU)(P).other.other_price.value,"onUpdate:value":e[17]||(e[17]=a=>(0,t.SU)(P).other.other_price.value=a),id:(0,t.SU)(P).other.other_price.id,label:(0,t.SU)(P).other.other_price.label,rules:(0,t.SU)(P).other.other_price.available&&(0,t.SU)(P).other.other_price.rules,ref:(0,t.SU)(l),max:(0,t.SU)(P).other.other_price.max,min:(0,t.SU)(P).other.other_price.min,step:(0,t.SU)(P).other.other_price.step,"after-dot":(0,t.SU)(P).other.other_price.afterDot,suffix:(0,t.SU)(P).other.other_price.unit,disabled:!(0,t.SU)(P).other.other_price.available||F.value},null,8,["variant","value","id","label","rules","max","min","step","after-dot","suffix","disabled"])])),_:1},8,["grid"]),(0,s.Wm)(m.Z,{title:"Компенсация за доставку",class:"mb16",grid:(0,t.SU)(j)},{default:(0,s.w5)((()=>[(0,s.Wm)(b.Z,{variant:(0,t.SU)(D),value:(0,t.SU)(P).calculateParams.payoff_base.value,"onUpdate:value":e[18]||(e[18]=a=>(0,t.SU)(P).calculateParams.payoff_base.value=a),items:(0,t.SU)(P).calculateParams.payoff_base.items,id:(0,t.SU)(P).calculateParams.payoff_base.id,label:(0,t.SU)(P).calculateParams.payoff_base.label,rules:(0,t.SU)(P).calculateParams.payoff_base.rules,placeholder:(0,t.SU)(P).calculateParams.payoff_base.placeholder,ref:(0,t.SU)(l),disabled:F.value},null,8,["variant","value","items","id","label","rules","placeholder","disabled"]),(0,s.Wm)(f.Z,{variant:(0,t.SU)(D),value:(0,t.SU)(P).calculateParams.payoff_tariff.value,"onUpdate:value":e[19]||(e[19]=a=>(0,t.SU)(P).calculateParams.payoff_tariff.value=a),id:(0,t.SU)(P).calculateParams.payoff_tariff.id,label:(0,t.SU)(P).calculateParams.payoff_tariff.label,ref:(0,t.SU)(l),min:(0,t.SU)(P).calculateParams.payoff_tariff.min,step:(0,t.SU)(P).calculateParams.payoff_tariff.step,"after-dot":(0,t.SU)(P).calculateParams.payoff_tariff.afterDot,suffix:(0,t.SU)(P).calculateParams.payoff_tariff.unit,disabled:F.value},null,8,["variant","value","id","label","min","step","after-dot","suffix","disabled"]),(0,s.Wm)(b.Z,{variant:(0,t.SU)(D),value:(0,t.SU)(P).calculateParams.payoff_vat.value,"onUpdate:value":e[20]||(e[20]=a=>(0,t.SU)(P).calculateParams.payoff_vat.value=a),items:(0,t.SU)(P).calculateParams.payoff_vat.items,id:(0,t.SU)(P).calculateParams.payoff_vat.id,label:(0,t.SU)(P).calculateParams.payoff_vat.label,ref:(0,t.SU)(l),suffix:(0,t.SU)(P).calculateParams.payoff_vat.unit,disabled:F.value},null,8,["variant","value","items","id","label","suffix","disabled"]),(0,s.Wm)(f.Z,{variant:(0,t.SU)(D),value:(0,t.SU)(P).calculateParams.payoff_tariff_with_vat.value,"onUpdate:value":e[21]||(e[21]=a=>(0,t.SU)(P).calculateParams.payoff_tariff_with_vat.value=a),id:(0,t.SU)(P).calculateParams.payoff_tariff_with_vat.id,label:(0,t.SU)(P).calculateParams.payoff_tariff_with_vat.label,ref:(0,t.SU)(l),min:(0,t.SU)(P).calculateParams.payoff_tariff_with_vat.min,step:(0,t.SU)(P).calculateParams.payoff_tariff_with_vat.step,"after-dot":(0,t.SU)(P).calculateParams.payoff_tariff_with_vat.afterDot,suffix:(0,t.SU)(P).calculateParams.payoff_tariff_with_vat.unit,disabled:F.value},null,8,["variant","value","id","label","min","step","after-dot","suffix","disabled"])])),_:1},8,["grid"]),(0,s.Wm)(m.Z,{title:"Комментарий",class:"mb8"},{default:(0,s.w5)((()=>[(0,s.Wm)(o.Z,{"no-resize":"",rows:3,value:(0,t.SU)(P).other.comment.value,"onUpdate:value":e[22]||(e[22]=a=>(0,t.SU)(P).other.comment.value=a),id:(0,t.SU)(P).other.comment.id,rules:(0,t.SU)(P).other.comment.rules,ref:(0,t.SU)(l),disabled:F.value},null,8,["value","id","rules","disabled"])])),_:1}),(0,s.Wm)(r,{type:"submit",label:"Сохранить",disabled:F.value},null,8,["disabled"])],40,v)):(0,s.kq)("",!0)}}});const p=_;var P=p,x=r(2483),h=(0,s.aZ)({__name:"RequestEditPage",setup(a){const e=(0,x.yj)();return(a,r)=>((0,s.wg)(),(0,s.j4)(l.Z,{title:"Редактирование заявки на покупку"},{default:(0,s.w5)((()=>[(0,s.Wm)(P,{id:(0,t.SU)(e).params.id},null,8,["id"])])),_:1}))}});const y=h;var w=y}}]);
//# sourceMappingURL=requestEdit.90f25bb8.js.map