{"version":3,"file":"js/profile.9bdb4a66.js","mappings":"0KAGA,MAAMA,GAA0BC,EAAAA,EAAAA,GAAoB,MAAO,KAAM,WAAY,GAI7E,OAA4BC,EAAAA,EAAAA,IAAiB,CAC3CC,OAAQ,cACRC,KAAAA,CAAMC,GAGR,MAAO,CAACC,EAAUC,MACRC,EAAAA,EAAAA,OAAcC,EAAAA,EAAAA,IAAaC,EAAAA,EAAc,KAAM,CACrDC,SAASC,EAAAA,EAAAA,KAAS,IAAM,CACtBZ,KAEFa,EAAG,IAGP,ICjBA,MAAMC,EAAc,EAEpB,O,uPCYO,MAAMC,EAAiBA,KAC5B,MAAM,YAAEC,EAAW,aAAEC,EAAY,iBAAEC,IAAqBC,EAAAA,EAAAA,KAClDC,GAAYC,EAAAA,EAAAA,MACZ,GAAEC,EAAE,YAAEC,IAAgBC,EAAAA,EAAAA,IAAYJ,GAElCK,GAA6DC,EAAAA,EAAAA,IAAS,CAC1EC,MAAO,KACPC,GAAI,OACJC,MAAO,MACPC,MAAOP,EACPQ,OAAOC,EAAAA,EAAAA,OAGHC,GAA2DP,EAAAA,EAAAA,IAAS,CACxEQ,KAAM,CACJP,MAAO,GACPC,GAAI,OACJC,MAAO,MACPE,OAAOC,EAAAA,EAAAA,MAETG,MAAO,CACLR,MAAO,GACPC,GAAI,QACJC,MAAO,UACPE,OAAOK,EAAAA,EAAAA,MAETC,IAAK,CACHV,MAAO,GACPC,GAAI,MACJC,MAAO,gBACPE,OAAOC,EAAAA,EAAAA,MAETM,MAAO,CACLX,MAAO,GACPC,GAAI,QACJC,MAAO,SACPE,OAAOQ,EAAAA,EAAAA,QAIX,SAASC,IACP,MAAMC,EAA2B,CAAC,EAWlC,OATAC,OAAOC,QAAQV,GAAQW,SAAQ,EAAEC,EAAKlB,MAChCA,EAAMA,QACRc,EAAII,GAAOlB,EAAMA,M,IAIrBc,EAAIK,KAAOrB,EAASE,MAASF,EAASE,MAA0BA,MAAQ,GACxEc,EAAIM,QAAUzB,EAAGK,MAAOoB,QAEjBN,CACT,CAEA,SAASO,IACPN,OAAOO,OAAOhB,GAAQW,SAASM,GAAQA,EAAGvB,MAAQ,KAClDF,EAASE,MAAQ,KACjBT,GACF,CAEA,SAASiC,EAAgBC,GACvBJ,IACgB,QAAZI,GACFC,EAAAA,EAAOC,MAEX,CAEA,SAASC,IACHjC,EAAGK,QACLF,EAASE,MACPJ,EAAYI,MAAM6B,MAAMN,GAAOA,EAAGvB,QAAUL,EAAGK,MAAOmB,KAAKnB,SAC3D,KACFM,EAAOC,KAAKP,MAAQL,EAAGK,MAAMO,KAC7BD,EAAOE,MAAMR,MAAQL,EAAGK,MAAMQ,MAC9BF,EAAOK,MAAMX,MAAQL,EAAGK,MAAMW,OAAS,GACvCL,EAAOI,IAAIV,MAAQL,EAAGK,MAAMU,KAAO,GAEvC,CAEA,MAAO,CACLZ,WACAQ,SACAkB,kBACAX,cACAxB,cACAC,eACAsC,gBACD,E,cCtGH,MAAMvD,EAAa,CAAC,YAkBpB,OAA4BE,EAAAA,EAAAA,IAAiB,CAC3CC,OAAQ,iBACRC,KAAAA,CAAMC,GAER,MAAM,aAAEoD,IAAiBC,EAAAA,EAAAA,MACnB,aAAEC,IAAiBC,EAAAA,EAAAA,MACnB,OACJ3B,EAAM,SACNR,EAAQ,YACRT,EAAW,aACXC,EAAY,YACZuB,EAAW,cACXe,GACExC,IAEEK,GAAYC,EAAAA,EAAAA,MACZ,GAAEC,IAAOE,EAAAA,EAAAA,IAAYJ,GACrByC,GAASC,EAAAA,EAAAA,KACTC,GAAeC,EAAAA,EAAAA,KAAS,IACI,UAAzB1C,EAAGK,OAAOmB,KAAKnB,QAGxBsC,eAAeC,IACb,GAAIH,EAAapC,MAAO,OAExB,MAAMwC,QAAgBlD,IACtB,GAAIkD,EACF,IACEN,EAAOO,KAAKC,EAAAA,EAAoBC,cAC1BlD,EAAUmD,KAAK/B,KACrBe,IACAM,EAAOO,KAAKC,EAAAA,EAAoBG,QAAS,CACvCC,SAAUA,IAAMpB,EAAAA,EAAOC,Q,CAEzB,MAAOoB,GACPb,EAAOO,KAAKC,EAAAA,EAAoBM,MAAO,CACrCC,KAAOF,EAAiBG,S,CAIhC,CAOA,OALAC,EAAAA,EAAAA,KAAU,KACRC,QAAQC,IAAI,gBACZzB,GAAe,IAGV,CAACjD,EAAUC,KAChB,MAAM0E,GAAoBC,EAAAA,EAAAA,IAAkB,UAE5C,OAAQ1E,EAAAA,EAAAA,OAAc2E,EAAAA,EAAAA,IAAoB,OAAQ,CAChDC,MAAO,WACPlB,UAAUmB,EAAAA,EAAAA,IAAenB,EAAU,CAAC,aACnC,EACDoB,EAAAA,EAAAA,IAAaC,EAAAA,EAAa,CACxBC,MAAO,kBACPJ,MAAO,OACPK,MAAMC,EAAAA,EAAAA,IAAO/B,IACZ,CACDhD,SAASC,EAAAA,EAAAA,KAAS,IAAM,EACtB0E,EAAAA,EAAAA,IAAaK,EAAAA,EAAc,CACzBvC,SAASsC,EAAAA,EAAAA,IAAOjC,GAChB9B,OAAO+D,EAAAA,EAAAA,IAAOzD,GAAQC,KAAKP,MAC3B,iBAAkBpB,EAAO,KAAOA,EAAO,GAAMqF,IAAkBF,EAAAA,EAAAA,IAAOzD,GAAQC,KAAKP,MAASiE,GAC5FhE,IAAI8D,EAAAA,EAAAA,IAAOzD,GAAQC,KAAKN,GACxBC,OAAO6D,EAAAA,EAAAA,IAAOzD,GAAQC,KAAKL,MAC3BE,OAAO2D,EAAAA,EAAAA,IAAOzD,GAAQC,KAAKH,MAC3B8D,YAAa,OACbC,KAAKJ,EAAAA,EAAAA,IAAO1E,GACZ+E,SAAUhC,EAAapC,OACtB,KAAM,EAAG,CAAC,UAAW,QAAS,KAAM,QAAS,QAAS,cACzD2D,EAAAA,EAAAA,IAAaU,EAAAA,EAAc,CACzB5C,SAASsC,EAAAA,EAAAA,IAAOjC,GAChB9B,OAAO+D,EAAAA,EAAAA,IAAOzD,GAAQE,MAAMR,MAC5B,iBAAkBpB,EAAO,KAAOA,EAAO,GAAMqF,IAAkBF,EAAAA,EAAAA,IAAOzD,GAAQE,MAAMR,MAASiE,GAC7FhE,IAAI8D,EAAAA,EAAAA,IAAOzD,GAAQE,MAAMP,GACzBC,OAAO6D,EAAAA,EAAAA,IAAOzD,GAAQE,MAAMN,MAC5BE,OAAO2D,EAAAA,EAAAA,IAAOzD,GAAQE,MAAMJ,MAC5B+D,KAAKJ,EAAAA,EAAAA,IAAO1E,GACZ+E,SAAUhC,EAAapC,MACvB,cAAc,EACdsE,KAAM,qBACNJ,YAAa,sBACZ,KAAM,EAAG,CAAC,UAAW,QAAS,KAAM,QAAS,QAAS,cACzDP,EAAAA,EAAAA,IAAaY,EAAAA,EAAW,CACtB9C,SAASsC,EAAAA,EAAAA,IAAOjC,GAChB9B,OAAO+D,EAAAA,EAAAA,IAAOjE,GAAUE,MACxB,iBAAkBpB,EAAO,KAAOA,EAAO,GAAMqF,IAAkBF,EAAAA,EAAAA,IAAOjE,GAAUE,MAASiE,GACzF9D,OAAO4D,EAAAA,EAAAA,IAAOjE,GAAUK,MACxBF,IAAI8D,EAAAA,EAAAA,IAAOjE,GAAUG,GACrBC,OAAO6D,EAAAA,EAAAA,IAAOjE,GAAUI,MACxBE,OAAO2D,EAAAA,EAAAA,IAAOjE,GAAUM,MACxB8D,YAAa,YACbC,KAAKJ,EAAAA,EAAAA,IAAO1E,GACZ+E,SAAUhC,EAAapC,OACtB,KAAM,EAAG,CAAC,UAAW,QAAS,QAAS,KAAM,QAAS,QAAS,cAClE2D,EAAAA,EAAAA,IAAaK,EAAAA,EAAc,CACzBvC,QAAS,aACTzB,OAAO+D,EAAAA,EAAAA,IAAOzD,GAAQK,MAAMX,MAC5B,iBAAkBpB,EAAO,KAAOA,EAAO,GAAMqF,IAAkBF,EAAAA,EAAAA,IAAOzD,GAAQK,MAAMX,MAASiE,GAC7FhE,IAAI8D,EAAAA,EAAAA,IAAOzD,GAAQK,MAAMV,GACzBC,OAAO6D,EAAAA,EAAAA,IAAOzD,GAAQK,MAAMT,MAC5BE,OAAO2D,EAAAA,EAAAA,IAAOzD,GAAQK,MAAMP,MAC5B8D,YAAa,OACbC,KAAKJ,EAAAA,EAAAA,IAAO1E,GACZ+E,SAAUhC,EAAapC,OACtB,KAAM,EAAG,CAAC,QAAS,KAAM,QAAS,QAAS,cAC9C2D,EAAAA,EAAAA,IAAaK,EAAAA,EAAc,CACzBvC,QAAS,aACTzB,OAAO+D,EAAAA,EAAAA,IAAOzD,GAAQI,IAAIV,MAC1B,iBAAkBpB,EAAO,KAAOA,EAAO,GAAMqF,IAAkBF,EAAAA,EAAAA,IAAOzD,GAAQI,IAAIV,MAASiE,GAC3FhE,IAAI8D,EAAAA,EAAAA,IAAOzD,GAAQI,IAAIT,GACvBC,OAAO6D,EAAAA,EAAAA,IAAOzD,GAAQI,IAAIR,MAC1BgE,YAAa,OACbC,KAAKJ,EAAAA,EAAAA,IAAO1E,GACZmF,KAAM,OACNJ,SAAUhC,EAAapC,OACtB,KAAM,EAAG,CAAC,QAAS,KAAM,QAAS,gBAEvCd,EAAG,GACF,EAAG,CAAC,UACN6E,EAAAA,EAAAA,IAAOpE,IAAkC,WAA3BoE,EAAAA,EAAAA,IAAOpE,GAAIwB,MAAMnB,QAC3BnB,EAAAA,EAAAA,OAAcC,EAAAA,EAAAA,IAAawE,EAAmB,CAC7CpC,IAAK,EACLhB,MAAO,YACPsE,KAAM,SACNJ,SAAUhC,EAAapC,OACtB,KAAM,EAAG,CAAC,eACbyE,EAAAA,EAAAA,IAAoB,IAAI,IAC3B,GAAIpG,EAAW,CAEpB,ICrJA,MAAMc,EAAc,EAEpB,QCCA,GAA4BZ,EAAAA,EAAAA,IAAiB,CAC3CC,OAAQ,cACRC,KAAAA,CAAMC,GAGR,MAAO,CAACC,EAAUC,MACRC,EAAAA,EAAAA,OAAcC,EAAAA,EAAAA,IAAa4F,EAAAA,EAAc,CAAEb,MAAO,WAAa,CACrE7E,SAASC,EAAAA,EAAAA,KAAS,IAAM,EACtB0E,EAAAA,EAAAA,IAAagB,MAEfzF,EAAG,IAGP,IChBA,MAAM,EAAc,EAEpB,O,iUCyGA0F,EAAe,CACbC,WAAY,CAAC,G,mDAvDf,MAAM,YAAEC,IAAgBjF,EAAAA,EAAAA,KAAYkF,EAAAA,EAAAA,MAE9BtF,GAAYC,EAAAA,EAAAA,MACZ,GAAEC,IAAOE,EAAAA,EAAAA,IAAYJ,GAE3B,SAASuF,IACPF,EAAY9E,OAAQ,CACtB,C,45CC1DA,MAAMb,EAAc,EAEpB,QCJA,MAAMd,EAAa,CAAEoF,MAAO,iBACtBwB,EAAa,CAAExB,MAAO,0BACtByB,EAAa,CAAEzB,MAAO,wBACtB0B,EAAa,CAAE1B,MAAO,yBACtB2B,EAAa,CAAE3B,MAAO,uBAK5B,OAA4BlF,EAAAA,EAAAA,IAAiB,CAC3CC,OAAQ,eACR6G,MAAO,CACLC,aAAc,CAAEd,KAAMe,QAASvG,SAAS,IAE1CP,KAAAA,CAAMC,GAMR,MAAO,CAACC,EAAUC,MACRC,EAAAA,EAAAA,OAAc2E,EAAAA,EAAAA,IAAoB,MAAOnF,EAAY,EAC3DC,EAAAA,EAAAA,GAAoB,MAAO2G,EAAY,EACrCO,EAAAA,EAAAA,IAAY7G,EAAK8G,OAAQ,QAAS,CAAEhC,MAAO,0BAC3CnF,EAAAA,EAAAA,GAAoB,MAAO4G,EAAY,EACrC5G,EAAAA,EAAAA,GAAoB,MAAO6G,EAAY,EACrCK,EAAAA,EAAAA,IAAY7G,EAAK8G,OAAQ,SAAU,CAAC,GAAG,IAAM,EAC3C9B,EAAAA,EAAAA,IAAa+B,SAGjBpH,EAAAA,EAAAA,GAAoB,OAAQ8G,EAAY,EACtCI,EAAAA,EAAAA,IAAY7G,EAAK8G,OAAQ,mBAMnC,ICnCA,MAAM,EAAc,EAEpB,O","sources":["webpack://lac/./src/views/pages/Lk/ProfilePage.vue?c24f","webpack://lac/./src/views/pages/Lk/ProfilePage.vue","webpack://lac/./src/views/modules/CrudForms/LacProfileForm/useProfileForm.ts","webpack://lac/./src/views/modules/CrudForms/LacProfileForm/LacProfileForm.vue?6ce6","webpack://lac/./src/views/modules/CrudForms/LacProfileForm/LacProfileForm.vue","webpack://lac/./src/views/pages/profile/ProfilePage.vue?e61b","webpack://lac/./src/views/pages/profile/ProfilePage.vue","webpack://lac/./src/views/modules/LacHeader/LacHeader.vue","webpack://lac/./src/views/modules/LacHeader/LacHeader.vue?7b3b","webpack://lac/./src/views/templates/MainTemplate/MainTemplate.vue?98de","webpack://lac/./src/views/templates/MainTemplate/MainTemplate.vue"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"div\", null, \"PROFILE\", -1)\n\nimport MainTemplate from \"@/views/templates/MainTemplate/MainTemplate.vue\";\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ProfilePage',\n  setup(__props) {\n\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createBlock(MainTemplate, null, {\n    default: _withCtx(() => [\n      _hoisted_1\n    ]),\n    _: 1\n  }))\n}\n}\n\n})","import script from \"./ProfilePage.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ProfilePage.vue?vue&type=script&lang=ts&setup=true\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { reactive } from \"vue\";\r\nimport { storeToRefs } from \"pinia\";\r\nimport { ReactiveVariable } from \"vue/macros\";\r\nimport {\r\n  FormFieldProps,\r\n  FormFieldSelectProps,\r\n  LacSelectOption,\r\n} from \"@/views/components/form/types\";\r\nimport router from \"@/router\";\r\nimport { useFormValidate } from \"@/use/useFormValidate\";\r\nimport { UserRole } from \"@/kernel/entities/UserRole\";\r\nimport { phoneRules } from \"@/kernel/validation/vuelidate/phoneRules\";\r\nimport { emailRules } from \"@/kernel/validation/vuelidate/emailRules\";\r\nimport { requiredRules } from \"@/kernel/validation/vuelidate/requiredRules\";\r\nimport { useStoreUser } from \"@/store/user\";\r\nimport { UserGetData, UserEditData } from \"@/kernel/api/dto/User\";\r\n\r\nexport const useProfileForm = () => {\r\n  const { setFieldRef, validateForm, resetValidations } = useFormValidate();\r\n  const storeUser = useStoreUser();\r\n  const { me, roleOptions } = storeToRefs(storeUser);\r\n\r\n  const userRole: ReactiveVariable<FormFieldSelectProps<UserRole>> = reactive({\r\n    value: null,\r\n    id: \"role\",\r\n    label: \"Тип\",\r\n    items: roleOptions,\r\n    rules: requiredRules(),\r\n  });\r\n\r\n  const fields: ReactiveVariable<Record<string, FormFieldProps>> = reactive({\r\n    name: {\r\n      value: \"\",\r\n      id: \"name\",\r\n      label: \"ФИО\",\r\n      rules: requiredRules(),\r\n    },\r\n    phone: {\r\n      value: \"\",\r\n      id: \"phone\",\r\n      label: \"Телефон\",\r\n      rules: phoneRules(),\r\n    },\r\n    dob: {\r\n      value: \"\",\r\n      id: \"dob\",\r\n      label: \"Дата рождения\",\r\n      rules: requiredRules(),\r\n    },\r\n    email: {\r\n      value: \"\",\r\n      id: \"email\",\r\n      label: \"E-mail\",\r\n      rules: emailRules(),\r\n    },\r\n  });\r\n\r\n  function prepareData(): UserEditData {\r\n    const res: Record<string, any> = {};\r\n\r\n    Object.entries(fields).forEach(([key, value]) => {\r\n      if (value.value) {\r\n        res[key] = value.value;\r\n      }\r\n    });\r\n\r\n    res.role = userRole.value ? (userRole.value as LacSelectOption).value : \"\";\r\n    res.user_id = me.value!.user_id;\r\n\r\n    return res as UserGetData;\r\n  }\r\n\r\n  function clear() {\r\n    Object.values(fields).forEach((el) => (el.value = \"\"));\r\n    userRole.value = null;\r\n    resetValidations();\r\n  }\r\n\r\n  function successCallback(variant: string) {\r\n    clear();\r\n    if (variant !== \"new\") {\r\n      router.back();\r\n    }\r\n  }\r\n\r\n  function fillFromStore() {\r\n    if (me.value) {\r\n      userRole.value =\r\n        roleOptions.value.find((el) => el.value === me.value!.role.value) ||\r\n        null;\r\n      fields.name.value = me.value.name;\r\n      fields.phone.value = me.value.phone;\r\n      fields.email.value = me.value.email || \"\";\r\n      fields.dob.value = me.value.dob || \"\";\r\n    }\r\n  }\r\n\r\n  return {\r\n    userRole,\r\n    fields,\r\n    successCallback,\r\n    prepareData,\r\n    setFieldRef,\r\n    validateForm,\r\n    fillFromStore,\r\n  };\r\n};\r\n","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createVNode as _createVNode, withCtx as _withCtx, resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, withModifiers as _withModifiers, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = [\"onSubmit\"]\n\nimport LacFieldset from \"@/views/components/form/field/LacFieldset.vue\";\r\nimport LacInputText from \"@/views/components/form/input/LacInputText.vue\";\r\nimport LacSelect from \"@/views/components/form/select/LacSelect.vue\";\r\nimport LacInputMask from \"@/views/components/form/input/LacInputMask.vue\";\r\n\r\nimport { useStoreModal } from \"@/store/modal\";\r\nimport { AvailableModalsEnum } from \"@/store/modal/types\";\r\nimport { useFieldsetCols } from \"@/views/components/form/field/useFieldsetCols\";\r\nimport { computed, onMounted } from \"vue\";\r\nimport { useProfileForm } from \"@/views/modules/CrudForms/LacProfileForm/useProfileForm\";\r\nimport { useFieldVariant } from \"@/views/components/form/field/useFieldVariant\";\r\nimport { useStoreUser } from \"@/store/user\";\r\nimport { storeToRefs } from \"pinia\";\r\nimport router from \"@/router\";\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'LacProfileForm',\n  setup(__props) {\n\r\nconst { fieldVariant } = useFieldVariant();\r\nconst { computedCols } = useFieldsetCols();\r\nconst {\r\n  fields,\r\n  userRole,\r\n  setFieldRef,\r\n  validateForm,\r\n  prepareData,\r\n  fillFromStore,\r\n} = useProfileForm();\r\n\r\nconst storeUser = useStoreUser();\r\nconst { me } = storeToRefs(storeUser);\r\nconst modals = useStoreModal();\r\nconst disabledForm = computed(() => {\r\n  return me.value?.role.value !== \"admin\";\r\n});\r\n\r\nasync function onSubmit(): Promise<void> {\r\n  if (disabledForm.value) return;\r\n\r\n  const isValid = await validateForm();\r\n  if (isValid) {\r\n    try {\r\n      modals.open(AvailableModalsEnum.LOADER);\r\n      await storeUser.edit(prepareData());\r\n      fillFromStore();\r\n      modals.open(AvailableModalsEnum.SUCCESS, {\r\n        callback: () => router.back(),\r\n      });\r\n    } catch (e) {\r\n      modals.open(AvailableModalsEnum.ERROR, {\r\n        text: (e as ErrorEvent).message,\r\n      });\r\n    }\r\n  }\r\n}\r\n\r\nonMounted(() => {\r\n  console.log(\"Profile init\");\r\n  fillFromStore();\r\n});\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_Button = _resolveComponent(\"Button\")!\n\n  return (_openBlock(), _createElementBlock(\"form\", {\n    class: \"lac-form\",\n    onSubmit: _withModifiers(onSubmit, [\"prevent\"])\n  }, [\n    _createVNode(LacFieldset, {\n      title: \"Общие параметры\",\n      class: \"mb16\",\n      grid: _unref(computedCols)\n    }, {\n      default: _withCtx(() => [\n        _createVNode(LacInputText, {\n          variant: _unref(fieldVariant),\n          value: _unref(fields).name.value,\n          \"onUpdate:value\": _cache[0] || (_cache[0] = ($event: any) => ((_unref(fields).name.value) = $event)),\n          id: _unref(fields).name.id,\n          label: _unref(fields).name.label,\n          rules: _unref(fields).name.rules,\n          placeholder: \"Text\",\n          ref: _unref(setFieldRef),\n          disabled: disabledForm.value\n        }, null, 8, [\"variant\", \"value\", \"id\", \"label\", \"rules\", \"disabled\"]),\n        _createVNode(LacInputMask, {\n          variant: _unref(fieldVariant),\n          value: _unref(fields).phone.value,\n          \"onUpdate:value\": _cache[1] || (_cache[1] = ($event: any) => ((_unref(fields).phone.value) = $event)),\n          id: _unref(fields).phone.id,\n          label: _unref(fields).phone.label,\n          rules: _unref(fields).phone.rules,\n          ref: _unref(setFieldRef),\n          disabled: disabledForm.value,\n          \"auto-clear\": false,\n          mask: \"+9 (999) 999-99-99\",\n          placeholder: \"+9 (999) 999-99-99\"\n        }, null, 8, [\"variant\", \"value\", \"id\", \"label\", \"rules\", \"disabled\"]),\n        _createVNode(LacSelect, {\n          variant: _unref(fieldVariant),\n          value: _unref(userRole).value,\n          \"onUpdate:value\": _cache[2] || (_cache[2] = ($event: any) => ((_unref(userRole).value) = $event)),\n          items: _unref(userRole).items,\n          id: _unref(userRole).id,\n          label: _unref(userRole).label,\n          rules: _unref(userRole).rules,\n          placeholder: \"Должность\",\n          ref: _unref(setFieldRef),\n          disabled: disabledForm.value\n        }, null, 8, [\"variant\", \"value\", \"items\", \"id\", \"label\", \"rules\", \"disabled\"]),\n        _createVNode(LacInputText, {\n          variant: \"horizontal\",\n          value: _unref(fields).email.value,\n          \"onUpdate:value\": _cache[3] || (_cache[3] = ($event: any) => ((_unref(fields).email.value) = $event)),\n          id: _unref(fields).email.id,\n          label: _unref(fields).email.label,\n          rules: _unref(fields).email.rules,\n          placeholder: \"Text\",\n          ref: _unref(setFieldRef),\n          disabled: disabledForm.value\n        }, null, 8, [\"value\", \"id\", \"label\", \"rules\", \"disabled\"]),\n        _createVNode(LacInputText, {\n          variant: \"horizontal\",\n          value: _unref(fields).dob.value,\n          \"onUpdate:value\": _cache[4] || (_cache[4] = ($event: any) => ((_unref(fields).dob.value) = $event)),\n          id: _unref(fields).dob.id,\n          label: _unref(fields).dob.label,\n          placeholder: \"Text\",\n          ref: _unref(setFieldRef),\n          type: \"date\",\n          disabled: disabledForm.value\n        }, null, 8, [\"value\", \"id\", \"label\", \"disabled\"])\n      ]),\n      _: 1\n    }, 8, [\"grid\"]),\n    (_unref(me) && _unref(me).role?.value === 'admin')\n      ? (_openBlock(), _createBlock(_component_Button, {\n          key: 0,\n          label: \"Сохранить\",\n          type: \"submit\",\n          disabled: disabledForm.value\n        }, null, 8, [\"disabled\"]))\n      : _createCommentVNode(\"\", true)\n  ], 40, _hoisted_1))\n}\n}\n\n})","import script from \"./LacProfileForm.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./LacProfileForm.vue?vue&type=script&lang=ts&setup=true\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createVNode as _createVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nimport FormTemplate from \"@/views/templates/FormTemplate/FormTemplate.vue\";\r\nimport LacProfileForm from \"@/views/modules/CrudForms/LacProfileForm/LacProfileForm.vue\";\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ProfilePage',\n  setup(__props) {\n\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createBlock(FormTemplate, { title: \"Профиль\" }, {\n    default: _withCtx(() => [\n      _createVNode(LacProfileForm)\n    ]),\n    _: 1\n  }))\n}\n}\n\n})","import script from \"./ProfilePage.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ProfilePage.vue?vue&type=script&lang=ts&setup=true\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n  <div class=\"lac-header\">\r\n    <Button\r\n      v-if=\"!isShowAside\"\r\n      icon=\"pi pi-align-justify\"\r\n      @click=\"onShowAside\"\r\n      text\r\n    />\r\n    <RouterLink class=\"lac-header__link\" :to=\"{ name: 'map' }\"\r\n      >Карта</RouterLink\r\n    >\r\n    <RouterLink class=\"lac-header__link\" :to=\"{ name: 'offers' }\"\r\n      >Предложения</RouterLink\r\n    >\r\n    <RouterLink class=\"lac-header__link\" :to=\"{ name: 'requests' }\"\r\n      >Спрос</RouterLink\r\n    >\r\n    <template v-if=\"me && me.role?.value === 'admin'\">\r\n      <RouterLink class=\"lac-header__link\" :to=\"{ name: 'chain' }\"\r\n        >Сделки</RouterLink\r\n      >\r\n    </template>\r\n    <RouterLink class=\"lac-header__link\" :to=\"{ name: 'events' }\"\r\n      >События</RouterLink\r\n    >\r\n    <template v-if=\"me && me.role?.value === 'admin'\">\r\n      <RouterLink class=\"lac-header__link\" :to=\"{ name: 'adminUsers' }\">\r\n        Пользователи\r\n      </RouterLink>\r\n      <RouterLink class=\"lac-header__link\" :to=\"{ name: 'adminRoles' }\">\r\n        Должности\r\n      </RouterLink>\r\n    </template>\r\n\r\n    <div style=\"margin-left: auto; display: flex\">\r\n      <RouterLink class=\"lac-header__link\" :to=\"{ name: 'profile' }\">\r\n        Профиль\r\n        <span class=\"pi pi-user\"></span>\r\n      </RouterLink>\r\n\r\n      <RouterLink\r\n        class=\"lac-header__link lac-header__link--logout\"\r\n        :to=\"{ name: 'logout' }\"\r\n      >\r\n        <span\r\n          class=\"pi pi-sign-out\"\r\n          style=\"color: var(--lac-color__red)\"\r\n        ></span>\r\n      </RouterLink>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script setup>\r\nimport { storeToRefs } from \"pinia\";\r\nimport { useStore } from \"@/store\";\r\nimport { useStoreUser } from \"@/store/user\";\r\nconst { isShowAside } = storeToRefs(useStore());\r\n\r\nconst storeUser = useStoreUser();\r\nconst { me } = storeToRefs(storeUser);\r\n\r\nfunction onShowAside() {\r\n  isShowAside.value = true;\r\n}\r\n</script>\r\n<style lang=\"scss\">\r\n.lac-header {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  border-bottom: thin solid var(--lac-color__border);\r\n\r\n  &__link {\r\n    display: block;\r\n    height: 40px !important;\r\n    padding: 10px 16px;\r\n    margin-bottom: -1px;\r\n    border-top-left-radius: 6px;\r\n    border-top-right-radius: 6px;\r\n    border: thin solid transparent;\r\n    border-bottom: none;\r\n    color: var(--lac-color__link);\r\n    text-decoration: none;\r\n    transition-duration: var(--lac-transition__hover-off);\r\n    transition-property: color, opacity;\r\n\r\n    &--logout {\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n\r\n      &:hover {\r\n        opacity: 0.5;\r\n      }\r\n    }\r\n\r\n    &:hover {\r\n      color: var(--lac-color__link-hover);\r\n      transition-duration: var(--lac-transition__hover-on);\r\n    }\r\n\r\n    &.router-link-exact-active {\r\n      border-color: var(--lac-color__border);\r\n      background-color: var(--lac-color__bg);\r\n      color: var(--lac-color__text);\r\n      transition-duration: var(--lac-transition__hover-on);\r\n    }\r\n  }\r\n}\r\n</style>\r\n<script>\r\nexport default {\r\n  components: {},\r\n};\r\n</script>\r\n","import script from \"./LacHeader.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./LacHeader.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./LacHeader.vue?vue&type=style&index=0&id=1c8451fd&lang=scss\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { renderSlot as _renderSlot, createVNode as _createVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"main-template\" }\nconst _hoisted_2 = { class: \"main-template__wrapper\" }\nconst _hoisted_3 = { class: \"main-template__right\" }\nconst _hoisted_4 = { class: \"main-template__header\" }\nconst _hoisted_5 = { class: \"main-template__main\" }\n\nimport LacHeader from \"@/views/modules/LacHeader/LacHeader.vue\";\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'MainTemplate',\n  props: {\n    overflowAuto: { type: Boolean, default: false }\n  },\n  setup(__props: any) {\n\nconst props = __props;\n\r\n\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _renderSlot(_ctx.$slots, \"aside\", { class: \"main-template__aside\" }),\n      _createElementVNode(\"div\", _hoisted_3, [\n        _createElementVNode(\"div\", _hoisted_4, [\n          _renderSlot(_ctx.$slots, \"header\", {}, () => [\n            _createVNode(LacHeader)\n          ])\n        ]),\n        _createElementVNode(\"main\", _hoisted_5, [\n          _renderSlot(_ctx.$slots, \"default\")\n        ])\n      ])\n    ])\n  ]))\n}\n}\n\n})","import script from \"./MainTemplate.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./MainTemplate.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./MainTemplate.vue?vue&type=style&index=0&id=21caa70a&lang=scss\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["_hoisted_1","_createElementVNode","_defineComponent","__name","setup","__props","_ctx","_cache","_openBlock","_createBlock","MainTemplate","default","_withCtx","_","__exports__","useProfileForm","setFieldRef","validateForm","resetValidations","useFormValidate","storeUser","useStoreUser","me","roleOptions","storeToRefs","userRole","reactive","value","id","label","items","rules","requiredRules","fields","name","phone","phoneRules","dob","email","emailRules","prepareData","res","Object","entries","forEach","key","role","user_id","clear","values","el","successCallback","variant","router","back","fillFromStore","find","fieldVariant","useFieldVariant","computedCols","useFieldsetCols","modals","useStoreModal","disabledForm","computed","async","onSubmit","isValid","open","AvailableModalsEnum","LOADER","edit","SUCCESS","callback","e","ERROR","text","message","onMounted","console","log","_component_Button","_resolveComponent","_createElementBlock","class","_withModifiers","_createVNode","LacFieldset","title","grid","_unref","LacInputText","$event","placeholder","ref","disabled","LacInputMask","mask","LacSelect","type","_createCommentVNode","FormTemplate","LacProfileForm","__default__","components","isShowAside","useStore","onShowAside","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","props","overflowAuto","Boolean","_renderSlot","$slots","LacHeader"],"sourceRoot":""}